<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Registros | Introduction</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-katex/katex.min.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="../arboles/index.html" />
    
    
    <link rel="prev" href="../alto-orden/ejemplos.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="4.3"
        data-chapter-title="Registros"
        data-filepath="alto-orden/registros.md"
        data-basepath=".."
        data-revision="Thu Apr 14 2016 14:04:13 GMT-0300 (CLST)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="intro/index.html">
            
                
                    <a href="../intro/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Introducción
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="intro/declarativa.html">
            
                
                    <a href="../intro/declarativa.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        La programación declarativa
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="intro/funcional.html">
            
                
                    <a href="../intro/funcional.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Definiendo el paradigma funcional
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="invariante/index.html">
            
                
                    <a href="../invariante/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Recursión y programación invariante
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="invariante/fundamentos.html">
            
                
                    <a href="../invariante/fundamentos.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Programación invariante: fundamentos
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="invariante/invariante-real.html">
            
                
                    <a href="../invariante/invariante-real.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Programación invariante en el mundo real
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="listas/index.html">
            
                
                    <a href="../listas/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Listas y correspondencia de patrones
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="listas/listas.html">
            
                
                    <a href="../listas/listas.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Definiendo las listas
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="listas/aplicacion.html">
            
                
                    <a href="../listas/aplicacion.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Realizando cálculos con listas
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="listas/desafio-extra.html">
            
                
                    <a href="../listas/desafio-extra.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Desafío extra: aplanar una lista
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="alto-orden/index.html">
            
                
                    <a href="../alto-orden/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Programación de alto orden y registros
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="alto-orden/entornos-contextuales.html">
            
                
                    <a href="../alto-orden/entornos-contextuales.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Conceptos claves
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="alto-orden/ejemplos.html">
            
                
                    <a href="../alto-orden/ejemplos.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Uniendo los conceptos
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="4.3" data-path="alto-orden/registros.html">
            
                
                    <a href="../alto-orden/registros.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Registros
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="arboles/index.html">
            
                
                    <a href="../arboles/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Árboles y complejidad computacional
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="arboles/arboles.html">
            
                
                    <a href="../arboles/arboles.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        Árboles
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Introduction</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="los-registros-como-tipos-de-datos-compuestos">Los registros como tipos de datos compuestos</h1>
<p>D&#xE9;jemos de lado por ahora la programaci&#xF3;n de alto orden y centremos nuestra atenci&#xF3;n a un concepto sumamente importante en la programaci&#xF3;n simb&#xF3;lica: la noci&#xF3;n de un <em>registro</em>. Una vez que dominemos esta idea podremos posteriormente revisar la abstracci&#xF3;n de datos con mucha mayor facilidad. En particular, nos brindar&#xE1; gran asistencia haciendo la abstracci&#xF3;n de datos algo mucho, mucho m&#xE1;s legible. Bien, hablemos entonces de los <em>registros</em>. Un registro es un tipo de datos compuesto. En cierto sentido, son un tipo de datos compuesto de prop&#xF3;sito general, ya que en base a ellos podemos construir muchos otros tipos de datos compuestos. Por supuesto, que sea un tipo de datos compuesto no nos dice mucho, m&#xE1;s all&#xE1; de que est&#xE1;n formados de tipos de datos m&#xE1;s simples. O usando otro t&#xE9;rmino, que son estructuras de datos. Para comprender bien la idea de registro, primero es necesario comprender bien un concepto m&#xE1;s simple. El concepto de <em>&#xE1;tomo</em>. Por &#xE1;tomo, en este contexto por supuesto, se denomina a un valor o constante simb&#xF3;lica. Es decir a una &#xAB;representaci&#xF3;n textual&#xBB; que significa algo en s&#xED; misma. Estos <em>&#xE1;tomos</em> o tambi&#xE9;n conocidos como <em>s&#xED;mbolos</em> no se deben confundir con los identificadores. Los identificadores son representaciones que enlazan a una variable asignada a un valor, en cambio, los s&#xED;mbolos representan algo en s&#xED; mismos (no tienen una variable enlazada a ellos). Dependiendo del lenguaje, considerando aquellos que los incluyen, la sintaxis para representarlos puede cambiar bastante. Para el caso de nuestro pseudoc&#xF3;digo, representaremos los s&#xED;mbolos de aqu&#xED; en adelante mediante cualquier secuencia arbitraria de caracteres en min&#xFA;sculas precedida de un arroba (@) (<code>@simbolo</code>, <code>@otrosimbolo</code>). Adicionalmente, como iremos viendo, con los s&#xED;mbolos podemos realizar computaciones como con cualquier otro valor. Podemos compararlos, incluirlos en estructuras de datos, imprimirlos, etc. Bien, ahora ya entendido el concepto de <em>&#xE1;tomo</em> o <em>s&#xED;mbolo</em> podemos pasar a la idea principal en esta lecci&#xF3;n, los <em>registros</em>.</p>
<h3 id="registros">Registros</h3>
<p>Un <strong>registro</strong> es una estructura que agrupa a un conjunto de valores dentro de un &#xFA;nico valor compuesto. A diferencia de las listas, que tambi&#xE9;n se pueden ver como una agrupaci&#xF3;n de valores, en los registros se puede acceder directamente a los valores que almacena. Es decir, no hay necesidad de realizar iteraciones para acceder a cualquiera de los valores almacenados, pues cada valor, tambi&#xE9;n llamado <em>campo</em> en este contexto, est&#xE1; vinculado a un <em>nombre de campo</em> mediante el cual se puede realizar el acceso directo. En espec&#xED;fico, la estructura de un registro est&#xE1; compuesta de dos partes. Por un lado cuentan con una <em>etiqueta</em>, y por el otro con un conjunto de pares de nombres de campo y sus respectivos campos. Tanto la etiqueta como los nombres de campo deben ser <em>&#xE1;tomos</em>(o <em>s&#xED;mbolos</em>). Adicionalmente, los nombres de campo tambi&#xE9;n pueden ser enteros. En el caso de los <em>campos</em>, como se mencion&#xF3; m&#xE1;s arriba, estos no son m&#xE1;s que un nombre para referirse a los valores de un registro, y por lo tanto, pueden ser valores de cualquier tipo (incluyendo funciones y otros s&#xED;mbolos). Tomando todo lo dicho, podr&#xED;amos por lo tanto, definir de forma m&#xE1;s rigurosa a un registro como &#xAB;una estructura que asocia un s&#xED;mbolo(la etiqueta) a una colecci&#xF3;n de pares s&#xED;mbolo-valor (nombre de campo y campo respectivamente)&#xBB;. En cuanto a la sintaxis, ocurre lo mismo que con los s&#xED;mbolos. Seg&#xFA;n del lenguaje que se trate (si los soportan, por supuesto), la forma de representarlos puede ser completamente distinta, m&#xE1;s all&#xE1; de que signifiquen lo mismo. En el caso de nuestro pseudoc&#xF3;digo, los representaremos indicando la <em>etiqueta</em> seguida del grupo de pares encerrado entre llaves ({}), tal como se muestra a continuaci&#xF3;n:</p>
<pre><code>declare registro1 = @punto{@x: 100, @y: 100}

declare registro2 = @rectangulo{@bottom: 10, @left: 20, @top: 40, @right: 50, @color: @rojo}
</code></pre><p>Nota que cada uno de los pares se separa mediante comas, y que se utilizan los dos puntos (:) para delimitar al nombre de campo y el campo de cada par. Otra cosa que se debe destacar es que el orden en que escribamos los pares dentro del registro no tiene ninguna importancia. Es decir, no importa en qu&#xE9; orden se encuentren los pares, si dos registros tienen el mismo conjunto de pares, pero en un orden distinto, a&#xFA;n as&#xED; se consideran equivalentes. Por ejemplo:</p>
<pre><code>@punto1{@x: 100, @y: 100} == @punto2{@y: 100, @x: 100} //true
</code></pre><p>Adicionalmente, todos los nombres de campos siempre deben ser distintos. No se pueden emparejar dos campos distintos a un mismo s&#xED;mbolo en un mismo registro.</p>
<p>Bien, entonces ahora que ya sabemos qu&#xE9; son los registros y c&#xF3;mo los vamos a estar representando, podemos revisar algunas operaciones b&#xE1;sicas que se pueden realizar con ellos. En realidad, son muchas las operaciones que un lenguaje puede ofrecer para trabajar con registros. Especialmente cuando se incluyen las operaciones ofrecidas en m&#xF3;dulos aparte de la librer&#xED;a est&#xE1;ndar de ese lenguaje. Aqu&#xED; nos limitaremos a mencionar tan s&#xF3;lo las operaciones m&#xE1;s comunes. Estas operaciones son <em>el acceso a un campo determinado</em>, <em>el acceso al registro completo</em>, <em>obtener la etiqueta</em>, <em>determinar la longitud del registro</em>, <em>obtener una lista con los nombres de campos del registro</em>, <em>comparaciones de igualdad</em>, y <em>coincidencia de patrones</em>. Nuevamente, todas estas operaciones se pueden especificar usando una sintaxis distinta dependiendo del lenguaje. La s&#xED;ntaxis que usaremos aqu&#xED; para cada una de estas operaciones se puede revisar a continuaci&#xF3;n junto un ejemplo de uso:</p>
<pre><code>R = @rectangulo{@bottom: 10, @left: 20, @top: 40, @right: 50, @color: @rojo}

//Acceso a un campo determinado mediante su nombre de campo
//operador punto (.)

Imprimir( R.@bottom + R.@top) //10 + 40 = 50
</code></pre><pre><code>//Acceso a un registro completo
//Uso del identificador

Imprimir(R) //representaci&#xF3;n del registro completo
</code></pre><pre><code>//Obtener la etiqueta de un registro
//propiedad etiqueta

Imprimir(R.etiqueta) //@rectangulo
</code></pre><pre><code>//Determinar la longitud de registro (n&#xFA;mero de pares)
//propiedad long

Imprimir(R.long) // 5
</code></pre><pre><code>//Obtener una lista con los nombres de campo
//propiedad fieldnames

Imprimir(R.fieldnames) // [@bottom, @left, @top, @right, @color]
</code></pre><pre><code>//Comprobar igualdad

S = @cuadrado{@lado: 100, @color: @amarillo}

Imprimir (R == S) //false
</code></pre><pre><code>//coincidencia de patrones
//uso junto a case

case R:
  of @rectangle{@bottom: A, @left: B, @top: C, @right: D, @color: E}

//Se obtienen 5 variables locales A = 10, B = 20, C = 40, D = 50, E = @amarillo
</code></pre><p><strong>Nota</strong>: Como los campos pueden ser funciones, cuando accedamos a un registro con un nombre de campo emparejado con una funci&#xF3;n, podemos obtener valores diferentes de regreso. Esta caracter&#xED;stica puede resultar &#xFA;til para definir registros con un comportamiento din&#xE1;mico.</p>
<h3 id="revisitando-el-lenguaje-kernel">Revisitando el lenguaje kernel</h3>
<p>Ahora que contamos con la idea de registro, podemos usarlos para simplificar el lenguaje kernel que definimos anteriormente. Esto debido a que podemos definir todos los tipos de datos compuestos y otros tipos de datos en t&#xE9;rminos de registros, y por lo tanto, contener un &#xFA;nico tipo compuesto en el lenguaje kernel. Por ejemplo, podr&#xED;amos definir a un <em>&#xE1;tomo</em> como un registro de longitud 0, es decir como una etiqueta sin pares asociados. Tambi&#xE9;n podr&#xED;amos definir a una <em>tupla</em> como un caso especial de registro en el que los nombres de campo son enteros sucesivos que comienzan del 1 (&#xF3; 0). Y incluso podr&#xED;amos definir las ya familiares <em>listas</em> como un tipo de dato recursivo construido con registros, donde cada registro (en una lista no vac&#xED;a) consista de dos pares, uno con el nombre de campo @encabezado y otro con el nombre de campo @cola. De hecho, la sintaxis que hemos venido usado para trabajar con listas, se puede ver como un az&#xFA;car sint&#xE1;ctica para representar de forma simplificada esta idea.</p>
<pre><code>lista.cola == lista.@cola

E|C == |{@encabezado: E, @cola: C} //un registro con etiqueta | y dos pares.
</code></pre><p>En conclusi&#xF3;n, podr&#xED;amos decir que es suficiente con este &#xFA;nico dato compuesto (los registros) para describir y comprender la ejecuci&#xF3;n de un programa, pues todos los otros tipos de datos (listas, &#xE1;rboles y dem&#xE1;s) se pueden codificar en torno a registros. Este hecho nos posibilita simplificar bastante el lenguaje kernel, sin con ello reducir su potencial.</p>
<p><strong>Ejercicio</strong> <br>
Escribe una funci&#xF3;n que tome una lista como entrada y retorne una versi&#xF3;n de ella transformada a registro. Las listas de entrada incluir&#xE1;n siempre tres elementos: un primer elemento correspondiendo a la etiqueta y dos listas del mismo tama&#xF1;o, la primera conteniendo los nombres de campo, y la segunda los campos. A i-&#xE9;simo nombre de campo de la primera lista le corresponde el i-&#xE9;simo campo de la segunda. Ejemplo:</p>
<pre><code>[@z, [3 @a], [@b 5]] == @z{3:@a, @b: 5}
</code></pre><p>Ten en cuenta que si uno de los campos es una lista, esta tendr&#xE1; este mismo formato, y tambi&#xE9;n se debe transformar a registro.</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../alto-orden/ejemplos.html" class="navigation navigation-prev " aria-label="Previous page: Uniendo los conceptos"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../arboles/index.html" class="navigation navigation-next " aria-label="Next page: Árboles y complejidad computacional"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"katex":{},"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
